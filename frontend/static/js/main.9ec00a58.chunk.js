(this["webpackJsonpkyle-site-v2"]=this["webpackJsonpkyle-site-v2"]||[]).push([[0],{125:function(e,t,n){},126:function(e,t,n){"use strict";n.r(t);var a={};n.r(a),n.d(a,"isAuthenticated",(function(){return g})),n.d(a,"loading",(function(){return y})),n.d(a,"user",(function(){return E})),n.d(a,"playerVolume",(function(){return w}));var r={};n.r(r),n.d(r,"login",(function(){return C})),n.d(r,"checkAuthentication",(function(){return S})),n.d(r,"logout",(function(){return x}));var c=n(0),i=n.n(c),u=n(54),s=n.n(u),l=n(7),o=n.n(l),p=n(11),m=n(13),f=n(55),d=n.n(f),v=n(21),b=n(12),h=new(n.n(b).a)({framework:i.a}),g=h.State(!1),y=h.State(!0),E=h.State(null),w=h.State(.1).persist("player_volume"),O=n(56),j=n(57),k=(n(115),j.a.initializeApp({apiKey:"AIzaSyA5PVO7p1qPr_nVrzsuXwFqySVBmSgAxqU",authDomain:"vulture-84cb9.firebaseapp.com",projectId:"vulture-84cb9",storageBucket:"vulture-84cb9.appspot.com",messagingSenderId:"738247494836",appId:"1:738247494836:web:cdd28678f03fd3f6d05be1"})),C=function(){var e=Object(p.a)(o.a.mark((function e(t){return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,k.auth().signInWithEmailAndPassword("kyle@clips.com",t);case 3:return e.abrupt("return",{error:!1,message:null});case 6:return e.prev=6,e.t0=e.catch(0),e.abrupt("return",{error:!0,message:e.t0.message});case 9:case"end":return e.stop()}}),e,null,[[0,6]])})));return function(t){return e.apply(this,arguments)}}(),S=function(){var e=Object(p.a)(o.a.mark((function e(t){return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:t&&(N.state.isAuthenticated.set(!0),N.state.user.set(t)),N.state.loading.set(!1);case 2:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),x=function(){var e=Object(p.a)(o.a.mark((function e(){return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return N.state.isAuthenticated.set(!1),N.state.user.set(null),e.next=4,k.auth().signOut();case 4:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),A=h.API({baseURL:"/v1",options:{}}),N={state:Object(v.a)({},a),actions:Object(v.a)({},r),routes:Object(v.a)({},O),API:A},P=n(152),I=n(151),V=n(58),q=n.n(V),B=function(e){return i.a.createElement(I.a,{item:!0,xs:2},i.a.createElement("div",{className:"clip-box"},i.a.createElement("div",{className:"clip-img"},i.a.createElement("div",{className:"clip-hover"},i.a.createElement("button",{onClick:e.playClip},"Play"),i.a.createElement("button",{onClick:e.removeClip},"Remove")),i.a.createElement("img",{src:e.thumbnail,alt:"thumb"})),i.a.createElement("div",{className:"title"},e.title)))},L=(n(125),d()("https://kyle-twitchbot.herokuapp.com/")),_=function(){var e=Object(b.usePulse)(N.state.isAuthenticated),t=Object(b.usePulse)(N.state.playerVolume),n=Object(b.usePulse)(N.state.loading),a=Object(c.useState)([]),r=Object(m.a)(a,2),u=r[0],s=r[1],l=Object(c.useState)(""),f=Object(m.a)(l,2),d=f[0],v=f[1],h=Object(c.useState)(null),g=Object(m.a)(h,2),y=g[0],E=g[1],w=Object(c.useState)(!1),O=Object(m.a)(w,2),j=O[0],C=O[1],S=Object(c.createRef)();Object(c.useEffect)((function(){L.on("message",(function(e){switch(console.log(e),e.type){case"enableClips":return C(!0);case"disableClips":return C(!1);case"newClip":return function(e){if(e){if(j||C(!0),404===e.status)return L.emit("message",{type:"nextClip",lastClip:e});E(e),console.log(e)}}(e.clip);case"clipQueue":return function(e){return s(e)}(e.clips);case"clipsEmpty":return E(null);default:return}})),k.auth().onAuthStateChanged((function(e){return N.actions.checkAuthentication(e)}))}),[]);var x=Object(c.useState)(null),A=Object(m.a)(x,2),V=A[0],_=A[1],z=function(){var e=Object(p.a)(o.a.mark((function e(){var t;return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,N.actions.login(d);case 2:(t=e.sent).error&&_(t.message);case 4:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}();return Object(c.useEffect)((function(){if(!n){var e=document.querySelector("video");e&&e.addEventListener("volumechange",(function(t){N.state.playerVolume.set(e.volume)}))}}),[n]),i.a.createElement(P.a,{className:"container"},n||e?i.a.createElement(i.a.Fragment,null,i.a.createElement("div",{className:"row"},i.a.createElement(q.a,{ref:S,className:"clip-player",url:null!==y?y.video_url:"",playing:!0,controls:!0,volume:t,onEnded:function(){var e;(e=y)&&L.emit("message",{type:"nextClip",lastClip:e.id})}})),i.a.createElement("div",{className:"row clip-section"},i.a.createElement("div",{className:"header-text"},"Clip Management"),i.a.createElement("div",{className:"clips"},i.a.createElement(I.a,{container:!0,spacing:2},u&&u.map((function(e){return i.a.createElement(B,{removeClip:function(){return function(e){return L.emit("message",{type:"removeClip",clip:e})}(e.id)},playClip:function(){return function(e){return L.emit("message",{type:"playClip",clip:e})}(e.id)},slug:e.id,thumbnail:e.thumbnail_url,title:e.title})})))))):i.a.createElement("div",{className:"login"},i.a.createElement("label",null,"Login To View"),i.a.createElement("input",{type:"password",value:d,onChange:function(e){return v(e.target.value)}}),i.a.createElement("button",{onClick:z},"Login"),V&&i.a.createElement("p",{className:"error"},V)))};Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));s.a.render(i.a.createElement(i.a.StrictMode,null,i.a.createElement(_,null)),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then((function(e){e.unregister()})).catch((function(e){console.error(e.message)}))},56:function(e,t){},63:function(e,t,n){e.exports=n(126)},96:function(e,t){}},[[63,12,13]]]);
//# sourceMappingURL=main.9ec00a58.chunk.js.map