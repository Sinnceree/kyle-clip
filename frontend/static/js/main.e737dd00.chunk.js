(this["webpackJsonpkyle-site-v2"]=this["webpackJsonpkyle-site-v2"]||[]).push([[0],{125:function(e,t,n){},126:function(e,t,n){"use strict";n.r(t);var a={};n.r(a),n.d(a,"isAuthenticated",(function(){return b})),n.d(a,"loading",(function(){return E})),n.d(a,"user",(function(){return w}));var r={};n.r(r),n.d(r,"login",(function(){return k})),n.d(r,"checkAuthentication",(function(){return C})),n.d(r,"logout",(function(){return x}));var c=n(1),i=n.n(c),s=n(54),u=n.n(s),l=n(7),o=n.n(l),p=n(11),m=n(12),d=n(55),f=n.n(d),g=n(21),h=n(13),v=new(n.n(h).a)({framework:i.a}),b=v.State(!1),E=v.State(!0),w=v.State(null),y=n(56),O=n(57),j=(n(115),O.a.initializeApp({apiKey:"AIzaSyA5PVO7p1qPr_nVrzsuXwFqySVBmSgAxqU",authDomain:"vulture-84cb9.firebaseapp.com",projectId:"vulture-84cb9",storageBucket:"vulture-84cb9.appspot.com",messagingSenderId:"738247494836",appId:"1:738247494836:web:cdd28678f03fd3f6d05be1"})),k=function(){var e=Object(p.a)(o.a.mark((function e(t){return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,j.auth().signInWithEmailAndPassword("kyle@clips.com",t);case 3:return e.abrupt("return",{error:!1,message:null});case 6:return e.prev=6,e.t0=e.catch(0),e.abrupt("return",{error:!0,message:e.t0.message});case 9:case"end":return e.stop()}}),e,null,[[0,6]])})));return function(t){return e.apply(this,arguments)}}(),C=function(){var e=Object(p.a)(o.a.mark((function e(t){return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:t&&(S.state.isAuthenticated.set(!0),S.state.user.set(t),console.log(t)),console.log("Not logged in"),S.state.loading.set(!1);case 3:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),x=function(){var e=Object(p.a)(o.a.mark((function e(){return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return S.state.isAuthenticated.set(!1),S.state.user.set(null),e.next=4,j.auth().signOut();case 4:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),A=v.API({baseURL:"/v1",options:{}}),S={state:Object(g.a)({},a),actions:Object(g.a)({},r),routes:Object(g.a)({},y),API:A},N=n(152),I=n(151),P=n(58),B=n.n(P),V=function(e){return i.a.createElement(I.a,{item:!0,xs:2},i.a.createElement("div",{className:"clip-box"},i.a.createElement("div",{className:"clip-img"},i.a.createElement("div",{className:"clip-hover"},i.a.createElement("button",{onClick:e.playClip},"Play"),i.a.createElement("button",{onClick:e.removeClip},"Remove")),i.a.createElement("img",{src:e.thumbnail,alt:"thumb"})),i.a.createElement("div",{className:"title"},e.title)))},q=(n(125),f()("https://kyle-twitchbot.herokuapp.com/")),z=function(){var e=Object(h.usePulse)(S.state.isAuthenticated),t=Object(h.usePulse)(S.state.loading),n=Object(c.useState)([]),a=Object(m.a)(n,2),r=a[0],s=a[1],u=Object(c.useState)(""),l=Object(m.a)(u,2),d=l[0],f=l[1],g=Object(c.useState)(null),v=Object(m.a)(g,2),b=v[0],E=v[1],w=Object(c.useState)(!1),y=Object(m.a)(w,2),O=y[0],k=y[1];Object(c.useEffect)((function(){q.on("message",(function(e){switch(console.log(e),e.type){case"enableClips":return k(!0);case"disableClips":return k(!1);case"newClip":return function(e){if(e){if(O||k(!0),404===e.status)return q.emit("message",{type:"nextClip",lastClip:e});E(e),console.log(e)}}(e.clip);case"clipQueue":return function(e){return s(e)}(e.clips);case"clipsEmpty":return E(null);default:return}})),j.auth().onAuthStateChanged((function(e){return S.actions.checkAuthentication(e)}))}),[]);var C=Object(c.useState)(null),x=Object(m.a)(C,2),A=x[0],P=x[1],z=function(){var e=Object(p.a)(o.a.mark((function e(){var t;return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,S.actions.login(d);case 2:(t=e.sent).error&&P(t.message);case 4:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}();return i.a.createElement(N.a,{className:"container"},t||e?i.a.createElement(i.a.Fragment,null,i.a.createElement("div",{className:"row"},i.a.createElement(B.a,{className:"clip-player",url:null!==b?b.video_url:"",playing:!0,controls:!0,onEnded:function(){var e;(e=b)&&q.emit("message",{type:"nextClip",lastClip:e.id})},volume:.1})),i.a.createElement("div",{className:"row clip-section"},i.a.createElement("div",{className:"header-text"},"Clip Management"),i.a.createElement("div",{className:"clips"},i.a.createElement(I.a,{container:!0,spacing:2},r&&r.map((function(e){return i.a.createElement(V,{removeClip:function(){return function(e){return q.emit("message",{type:"removeClip",clip:e})}(e.id)},playClip:function(){return function(e){return q.emit("message",{type:"playClip",clip:e})}(e.id)},slug:e.id,thumbnail:e.thumbnail_url,title:e.title})})))))):i.a.createElement("div",{className:"login"},i.a.createElement("label",null,"Login To View"),i.a.createElement("input",{type:"password",value:d,onChange:function(e){return f(e.target.value)}}),i.a.createElement("button",{onClick:z},"Login"),A&&i.a.createElement("p",{className:"error"},A)))};Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));u.a.render(i.a.createElement(i.a.StrictMode,null,i.a.createElement(z,null)),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then((function(e){e.unregister()})).catch((function(e){console.error(e.message)}))},56:function(e,t){},63:function(e,t,n){e.exports=n(126)},96:function(e,t){}},[[63,12,13]]]);
//# sourceMappingURL=main.e737dd00.chunk.js.map